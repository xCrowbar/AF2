{"ast":null,"code":"import Web3Istance from \"../Web3\";\nimport UserABI from '../../ABIs/User.json';\nexport default class User extends Web3Istance {\n  constructor() {\n    super();\n    let ABIScheduling = UserABI.abi;\n    let ContractNetworks = UserABI.networks;\n    let contractAddress = ContractNetworks[Object.keys(ContractNetworks)[Object.keys(ContractNetworks).length - 1]].address;\n    this.contract = new this.web3.eth.Contract(ABIScheduling, contractAddress); //console.log(`Indirizzo Contratto ----- `+ contractAddress);  \n  }\n\n  async addCaller(position, username) {\n    let account = await this.checkIfWalletIsConnected();\n    this.contract.methods.addCaller(this.utils.fromAscii(JSON.stringify(position)), this.utils.fromAscii(username)).send({\n      from: account,\n      gas: 3000000\n    });\n  }\n\n  async isUser() {\n    let account = await this.checkIfWalletIsConnected();\n    let res = await this.contract.methods.isPlayer(account).call();\n    console.log(res);\n  }\n\n  async getUser() {\n    await this.checkIfWalletIsConnected();\n    let res = await this.contract.methods.getPlayerInfo().call();\n    return res;\n  }\n\n}","map":{"version":3,"sources":["/home/mike/Scrivania/provaFrontEnd/af2_front_end_test/src/SmartContracts/Users/Users.js"],"names":["Web3Istance","UserABI","User","constructor","ABIScheduling","abi","ContractNetworks","networks","contractAddress","Object","keys","length","address","contract","web3","eth","Contract","addCaller","position","username","account","checkIfWalletIsConnected","methods","utils","fromAscii","JSON","stringify","send","from","gas","isUser","res","isPlayer","call","console","log","getUser","getPlayerInfo"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,SAAxB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AAEA,eAAe,MAAMC,IAAN,SAAmBF,WAAnB,CAA8B;AACzCG,EAAAA,WAAW,GAAE;AACT;AACA,QAAIC,aAAa,GAAGH,OAAO,CAACI,GAA5B;AACA,QAAIC,gBAAgB,GAAGL,OAAO,CAACM,QAA/B;AACA,QAAIC,eAAe,GAACF,gBAAgB,CAACG,MAAM,CAACC,IAAP,CAAYJ,gBAAZ,EAA8BG,MAAM,CAACC,IAAP,CAAYJ,gBAAZ,EAA8BK,MAA9B,GAAuC,CAArE,CAAD,CAAhB,CAA0FC,OAA9G;AACA,SAAKC,QAAL,GAAc,IAAI,KAAKC,IAAL,CAAUC,GAAV,CAAcC,QAAlB,CAA2BZ,aAA3B,EAAyCI,eAAzC,CAAd,CALS,CAMT;AACC;;AAGc,QAATS,SAAS,CAACC,QAAD,EAAUC,QAAV,EAAmB;AAC9B,QAAIC,OAAO,GAAC,MAAM,KAAKC,wBAAL,EAAlB;AACA,SAAKR,QAAL,CAAcS,OAAd,CAAsBL,SAAtB,CAAgC,KAAKM,KAAL,CAAWC,SAAX,CAAqBC,IAAI,CAACC,SAAL,CAAeR,QAAf,CAArB,CAAhC,EAA+E,KAAKK,KAAL,CAAWC,SAAX,CAAqBL,QAArB,CAA/E,EACKQ,IADL,CACU;AAACC,MAAAA,IAAI,EAACR,OAAN;AAAcS,MAAAA,GAAG,EAAC;AAAlB,KADV;AAEH;;AAEW,QAANC,MAAM,GAAE;AACV,QAAIV,OAAO,GAAG,MAAM,KAAKC,wBAAL,EAApB;AACA,QAAIU,GAAG,GAAC,MAAM,KAAKlB,QAAL,CAAcS,OAAd,CAAsBU,QAAtB,CAA+BZ,OAA/B,EAAwCa,IAAxC,EAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AACH;;AAEY,QAAPK,OAAO,GAAE;AACX,UAAM,KAAKf,wBAAL,EAAN;AACA,QAAIU,GAAG,GAAE,MAAM,KAAKlB,QAAL,CAAcS,OAAd,CAAsBe,aAAtB,GAAsCJ,IAAtC,EAAf;AACA,WAAOF,GAAP;AACH;;AA3BoC","sourcesContent":["import Web3Istance from \"../Web3\";\nimport UserABI from '../../ABIs/User.json'\n\nexport default class User extends Web3Istance{\n    constructor(){\n        super();\n        let ABIScheduling = UserABI.abi;\n        let ContractNetworks = UserABI.networks;\n        let contractAddress=ContractNetworks[Object.keys(ContractNetworks)[Object.keys(ContractNetworks).length - 1]].address;\n        this.contract=new this.web3.eth.Contract(ABIScheduling,contractAddress);\n        //console.log(`Indirizzo Contratto ----- `+ contractAddress);  \n        }\n    \n\n        async addCaller(position,username){\n            let account=await this.checkIfWalletIsConnected();\n            this.contract.methods.addCaller(this.utils.fromAscii(JSON.stringify(position)),this.utils.fromAscii(username))\n                .send({from:account,gas:3000000})\n        }\n\n        async isUser(){\n            let account = await this.checkIfWalletIsConnected();\n            let res=await this.contract.methods.isPlayer(account).call()\n            console.log(res);\n        }\n\n        async getUser(){\n            await this.checkIfWalletIsConnected();\n            let res= await this.contract.methods.getPlayerInfo().call();\n            return res;\n        }\n\n\n}"]},"metadata":{},"sourceType":"module"}