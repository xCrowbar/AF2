{"ast":null,"code":"module.exports = function (THREE) {\n  var MOUSE = THREE.MOUSE;\n  if (!MOUSE) MOUSE = {\n    LEFT: 0,\n    MIDDLE: 1,\n    RIGHT: 2\n  };\n  /**\n   * @author qiao / https://github.com/qiao\n   * @author mrdoob / http://mrdoob.com\n   * @author alteredq / http://alteredqualia.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author erich666 / http://erichaines.com\n   */\n\n  /*global THREE, console */\n\n  function OrbitConstraint(object) {\n    this.object = object; // \"target\" sets the location of focus, where the object orbits around\n    // and where it pans with respect to.\n\n    this.target = new THREE.Vector3(); // Limits to how far you can dolly in and out ( PerspectiveCamera only )\n\n    this.minDistance = 0;\n    this.maxDistance = Infinity; // Limits to how far you can zoom in and out ( OrthographicCamera only )\n\n    this.minZoom = 0;\n    this.maxZoom = Infinity; // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n\n    this.minPolarAngle = 0; // radians\n\n    this.maxPolarAngle = Math.PI; // radians\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\n    this.minAzimuthAngle = -Infinity; // radians\n\n    this.maxAzimuthAngle = Infinity; // radians\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n\n    this.enableDamping = false;\n    this.dampingFactor = 0.25; ////////////\n    // internals\n\n    var scope = this;\n    var EPS = 0.000001; // Current position in spherical coordinate system.\n\n    var theta;\n    var phi; // Pending changes\n\n    var phiDelta = 0;\n    var thetaDelta = 0;\n    var scale = 1;\n    var panOffset = new THREE.Vector3();\n    var zoomChanged = false; // API\n\n    this.getPolarAngle = function () {\n      return phi;\n    };\n\n    this.getAzimuthalAngle = function () {\n      return theta;\n    };\n\n    this.rotateLeft = function (angle) {\n      thetaDelta -= angle;\n    };\n\n    this.rotateUp = function (angle) {\n      phiDelta -= angle;\n    }; // pass in distance in world space to move left\n\n\n    this.panLeft = function () {\n      var v = new THREE.Vector3();\n      return function panLeft(distance) {\n        var te = this.object.matrix.elements; // get X column of matrix\n\n        v.set(te[0], te[1], te[2]);\n        v.multiplyScalar(-distance);\n        panOffset.add(v);\n      };\n    }(); // pass in distance in world space to move up\n\n\n    this.panUp = function () {\n      var v = new THREE.Vector3();\n      return function panUp(distance) {\n        var te = this.object.matrix.elements; // get Y column of matrix\n\n        v.set(te[4], te[5], te[6]);\n        v.multiplyScalar(distance);\n        panOffset.add(v);\n      };\n    }(); // pass in x,y of change desired in pixel space,\n    // right and down are positive\n\n\n    this.pan = function (deltaX, deltaY, screenWidth, screenHeight) {\n      if (scope.object instanceof THREE.PerspectiveCamera) {\n        // perspective\n        var position = scope.object.position;\n        var offset = position.clone().sub(scope.target);\n        var targetDistance = offset.length(); // half of the fov is center to top of screen\n\n        targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0); // we actually don't use screenWidth, since perspective camera is fixed to screen height\n\n        scope.panLeft(2 * deltaX * targetDistance / screenHeight);\n        scope.panUp(2 * deltaY * targetDistance / screenHeight);\n      } else if (scope.object instanceof THREE.OrthographicCamera) {\n        // orthographic\n        scope.panLeft(deltaX * (scope.object.right - scope.object.left) / screenWidth);\n        scope.panUp(deltaY * (scope.object.top - scope.object.bottom) / screenHeight);\n      } else {\n        // camera neither orthographic or perspective\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n      }\n    };\n\n    this.dollyIn = function (dollyScale) {\n      if (scope.object instanceof THREE.PerspectiveCamera) {\n        scale /= dollyScale;\n      } else if (scope.object instanceof THREE.OrthographicCamera) {\n        scope.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      }\n    };\n\n    this.dollyOut = function (dollyScale) {\n      if (scope.object instanceof THREE.PerspectiveCamera) {\n        scale *= dollyScale;\n      } else if (scope.object instanceof THREE.OrthographicCamera) {\n        scope.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      }\n    };\n\n    this.update = function () {\n      var offset = new THREE.Vector3(); // so camera.up is the orbit axis\n\n      var quat = new THREE.Quaternion().setFromUnitVectors(object.up, new THREE.Vector3(0, 1, 0));\n      var quatInverse = quat.clone().inverse();\n      var lastPosition = new THREE.Vector3();\n      var lastQuaternion = new THREE.Quaternion();\n      return function () {\n        var position = this.object.position;\n        offset.copy(position).sub(this.target); // rotate offset to \"y-axis-is-up\" space\n\n        offset.applyQuaternion(quat); // angle from z-axis around y-axis\n\n        theta = Math.atan2(offset.x, offset.z); // angle from y-axis\n\n        phi = Math.atan2(Math.sqrt(offset.x * offset.x + offset.z * offset.z), offset.y);\n        theta += thetaDelta;\n        phi += phiDelta; // restrict theta to be between desired limits\n\n        theta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, theta)); // restrict phi to be between desired limits\n\n        phi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, phi)); // restrict phi to be betwee EPS and PI-EPS\n\n        phi = Math.max(EPS, Math.min(Math.PI - EPS, phi));\n        var radius = offset.length() * scale; // restrict radius to be between desired limits\n\n        radius = Math.max(this.minDistance, Math.min(this.maxDistance, radius)); // move target to panned location\n\n        this.target.add(panOffset);\n        offset.x = radius * Math.sin(phi) * Math.sin(theta);\n        offset.y = radius * Math.cos(phi);\n        offset.z = radius * Math.sin(phi) * Math.cos(theta); // rotate offset back to \"camera-up-vector-is-up\" space\n\n        offset.applyQuaternion(quatInverse);\n        position.copy(this.target).add(offset);\n        this.object.lookAt(this.target);\n\n        if (this.enableDamping === true) {\n          thetaDelta *= 1 - this.dampingFactor;\n          phiDelta *= 1 - this.dampingFactor;\n        } else {\n          thetaDelta = 0;\n          phiDelta = 0;\n        }\n\n        scale = 1;\n        panOffset.set(0, 0, 0); // update condition is:\n        // min(camera displacement, camera rotation in radians)^2 > EPS\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n        if (zoomChanged || lastPosition.distanceToSquared(this.object.position) > EPS || 8 * (1 - lastQuaternion.dot(this.object.quaternion)) > EPS) {\n          lastPosition.copy(this.object.position);\n          lastQuaternion.copy(this.object.quaternion);\n          zoomChanged = false;\n          return true;\n        }\n\n        return false;\n      };\n    }();\n  }\n\n  ; // This set of controls performs orbiting, dollying (zooming), and panning. It maintains\n  // the \"up\" direction as +Y, unlike the TrackballControls. Touch on tablet and phones is\n  // supported.\n  //\n  //    Orbit - left mouse / touch: one finger move\n  //    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n  //    Pan - right mouse, or arrow keys / touch: three finter swipe\n\n  function OrbitControls(object, domElement) {\n    var constraint = new OrbitConstraint(object);\n    this.domElement = domElement !== undefined ? domElement : document; // API\n\n    Object.defineProperty(this, 'constraint', {\n      get: function () {\n        return constraint;\n      }\n    });\n\n    this.getPolarAngle = function () {\n      return constraint.getPolarAngle();\n    };\n\n    this.getAzimuthalAngle = function () {\n      return constraint.getAzimuthalAngle();\n    }; // Set to false to disable this control\n\n\n    this.enabled = true; // center is old, deprecated; use \"target\" instead\n\n    this.center = this.target; // This option actually enables dollying in and out; left as \"zoom\" for\n    // backwards compatibility.\n    // Set to false to disable zooming\n\n    this.enableZoom = true;\n    this.zoomSpeed = 1.0; // Set to false to disable rotating\n\n    this.enableRotate = true;\n    this.rotateSpeed = 1.0; // Set to false to disable panning\n\n    this.enablePan = true;\n    this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n    // Set to true to automatically rotate around the target\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\n\n    this.autoRotate = false;\n    this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n    // Set to false to disable use of the keys\n\n    this.enableKeys = true; // The four arrow keys\n\n    this.keys = {\n      LEFT: 37,\n      UP: 38,\n      RIGHT: 39,\n      BOTTOM: 40\n    }; // Mouse buttons\n\n    this.mouseButtons = {\n      ORBIT: THREE.MOUSE.LEFT,\n      ZOOM: THREE.MOUSE.MIDDLE,\n      PAN: THREE.MOUSE.RIGHT\n    }; ////////////\n    // internals\n\n    var scope = this;\n    var rotateStart = new THREE.Vector2();\n    var rotateEnd = new THREE.Vector2();\n    var rotateDelta = new THREE.Vector2();\n    var panStart = new THREE.Vector2();\n    var panEnd = new THREE.Vector2();\n    var panDelta = new THREE.Vector2();\n    var dollyStart = new THREE.Vector2();\n    var dollyEnd = new THREE.Vector2();\n    var dollyDelta = new THREE.Vector2();\n    var STATE = {\n      NONE: -1,\n      ROTATE: 0,\n      DOLLY: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_DOLLY: 4,\n      TOUCH_PAN: 5\n    };\n    var state = STATE.NONE; // for reset\n\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = this.object.zoom; // events\n\n    var changeEvent = {\n      type: 'change'\n    };\n    var startEvent = {\n      type: 'start'\n    };\n    var endEvent = {\n      type: 'end'\n    }; // pass in x,y of change desired in pixel space,\n    // right and down are positive\n\n    function pan(deltaX, deltaY) {\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n      constraint.pan(deltaX, deltaY, element.clientWidth, element.clientHeight);\n    }\n\n    this.update = function () {\n      if (this.autoRotate && state === STATE.NONE) {\n        constraint.rotateLeft(getAutoRotationAngle());\n      }\n\n      if (constraint.update() === true) {\n        this.dispatchEvent(changeEvent);\n      }\n    };\n\n    this.reset = function () {\n      state = STATE.NONE;\n      this.target.copy(this.target0);\n      this.object.position.copy(this.position0);\n      this.object.zoom = this.zoom0;\n      this.object.updateProjectionMatrix();\n      this.dispatchEvent(changeEvent);\n      this.update();\n    };\n\n    function getAutoRotationAngle() {\n      return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n    }\n\n    function getZoomScale() {\n      return Math.pow(0.95, scope.zoomSpeed);\n    }\n\n    function onMouseDown(event) {\n      if (scope.enabled === false) return;\n      event.preventDefault();\n\n      if (event.button === scope.mouseButtons.ORBIT) {\n        if (scope.enableRotate === false) return;\n        state = STATE.ROTATE;\n        rotateStart.set(event.clientX, event.clientY);\n      } else if (event.button === scope.mouseButtons.ZOOM) {\n        if (scope.enableZoom === false) return;\n        state = STATE.DOLLY;\n        dollyStart.set(event.clientX, event.clientY);\n      } else if (event.button === scope.mouseButtons.PAN) {\n        if (scope.enablePan === false) return;\n        state = STATE.PAN;\n        panStart.set(event.clientX, event.clientY);\n      }\n\n      if (state !== STATE.NONE) {\n        document.addEventListener('mousemove', onMouseMove, false);\n        document.addEventListener('mouseup', onMouseUp, false);\n        scope.dispatchEvent(startEvent);\n      }\n    }\n\n    function onMouseMove(event) {\n      if (scope.enabled === false) return;\n      event.preventDefault();\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n      if (state === STATE.ROTATE) {\n        if (scope.enableRotate === false) return;\n        rotateEnd.set(event.clientX, event.clientY);\n        rotateDelta.subVectors(rotateEnd, rotateStart); // rotating across whole screen goes 360 degrees around\n\n        constraint.rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed); // rotating up and down along whole screen attempts to go 360, but limited to 180\n\n        constraint.rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n        rotateStart.copy(rotateEnd);\n      } else if (state === STATE.DOLLY) {\n        if (scope.enableZoom === false) return;\n        dollyEnd.set(event.clientX, event.clientY);\n        dollyDelta.subVectors(dollyEnd, dollyStart);\n\n        if (dollyDelta.y > 0) {\n          constraint.dollyIn(getZoomScale());\n        } else if (dollyDelta.y < 0) {\n          constraint.dollyOut(getZoomScale());\n        }\n\n        dollyStart.copy(dollyEnd);\n      } else if (state === STATE.PAN) {\n        if (scope.enablePan === false) return;\n        panEnd.set(event.clientX, event.clientY);\n        panDelta.subVectors(panEnd, panStart);\n        pan(panDelta.x, panDelta.y);\n        panStart.copy(panEnd);\n      }\n\n      if (state !== STATE.NONE) scope.update();\n    }\n\n    function\n      /* event */\n    onMouseUp() {\n      if (scope.enabled === false) return;\n      document.removeEventListener('mousemove', onMouseMove, false);\n      document.removeEventListener('mouseup', onMouseUp, false);\n      scope.dispatchEvent(endEvent);\n      state = STATE.NONE;\n    }\n\n    function onMouseWheel(event) {\n      if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE) return;\n      event.preventDefault();\n      event.stopPropagation();\n      var delta = 0;\n\n      if (event.wheelDelta !== undefined) {\n        // WebKit / Opera / Explorer 9\n        delta = event.wheelDelta;\n      } else if (event.detail !== undefined) {\n        // Firefox\n        delta = -event.detail;\n      }\n\n      if (delta > 0) {\n        constraint.dollyOut(getZoomScale());\n      } else if (delta < 0) {\n        constraint.dollyIn(getZoomScale());\n      }\n\n      scope.update();\n      scope.dispatchEvent(startEvent);\n      scope.dispatchEvent(endEvent);\n    }\n\n    function onKeyDown(event) {\n      if (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\n\n      switch (event.keyCode) {\n        case scope.keys.UP:\n          pan(0, scope.keyPanSpeed);\n          scope.update();\n          break;\n\n        case scope.keys.BOTTOM:\n          pan(0, -scope.keyPanSpeed);\n          scope.update();\n          break;\n\n        case scope.keys.LEFT:\n          pan(scope.keyPanSpeed, 0);\n          scope.update();\n          break;\n\n        case scope.keys.RIGHT:\n          pan(-scope.keyPanSpeed, 0);\n          scope.update();\n          break;\n      }\n    }\n\n    function touchstart(event) {\n      if (scope.enabled === false) return;\n\n      switch (event.touches.length) {\n        case 1:\n          // one-fingered touch: rotate\n          if (scope.enableRotate === false) return;\n          state = STATE.TOUCH_ROTATE;\n          rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n          break;\n\n        case 2:\n          // two-fingered touch: dolly\n          if (scope.enableZoom === false) return;\n          state = STATE.TOUCH_DOLLY;\n          var dx = event.touches[0].pageX - event.touches[1].pageX;\n          var dy = event.touches[0].pageY - event.touches[1].pageY;\n          var distance = Math.sqrt(dx * dx + dy * dy);\n          dollyStart.set(0, distance);\n          break;\n\n        case 3:\n          // three-fingered touch: pan\n          if (scope.enablePan === false) return;\n          state = STATE.TOUCH_PAN;\n          panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n\n      if (state !== STATE.NONE) scope.dispatchEvent(startEvent);\n    }\n\n    function touchmove(event) {\n      if (scope.enabled === false) return;\n      event.preventDefault();\n      event.stopPropagation();\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n      switch (event.touches.length) {\n        case 1:\n          // one-fingered touch: rotate\n          if (scope.enableRotate === false) return;\n          if (state !== STATE.TOUCH_ROTATE) return;\n          rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n          rotateDelta.subVectors(rotateEnd, rotateStart); // rotating across whole screen goes 360 degrees around\n\n          constraint.rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed); // rotating up and down along whole screen attempts to go 360, but limited to 180\n\n          constraint.rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n          rotateStart.copy(rotateEnd);\n          scope.update();\n          break;\n\n        case 2:\n          // two-fingered touch: dolly\n          if (scope.enableZoom === false) return;\n          if (state !== STATE.TOUCH_DOLLY) return;\n          var dx = event.touches[0].pageX - event.touches[1].pageX;\n          var dy = event.touches[0].pageY - event.touches[1].pageY;\n          var distance = Math.sqrt(dx * dx + dy * dy);\n          dollyEnd.set(0, distance);\n          dollyDelta.subVectors(dollyEnd, dollyStart);\n\n          if (dollyDelta.y > 0) {\n            constraint.dollyOut(getZoomScale());\n          } else if (dollyDelta.y < 0) {\n            constraint.dollyIn(getZoomScale());\n          }\n\n          dollyStart.copy(dollyEnd);\n          scope.update();\n          break;\n\n        case 3:\n          // three-fingered touch: pan\n          if (scope.enablePan === false) return;\n          if (state !== STATE.TOUCH_PAN) return;\n          panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n          panDelta.subVectors(panEnd, panStart);\n          pan(panDelta.x, panDelta.y);\n          panStart.copy(panEnd);\n          scope.update();\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n    }\n\n    function\n      /* event */\n    touchend() {\n      if (scope.enabled === false) return;\n      scope.dispatchEvent(endEvent);\n      state = STATE.NONE;\n    }\n\n    function contextmenu(event) {\n      event.preventDefault();\n    }\n\n    this.dispose = function () {\n      this.domElement.removeEventListener('contextmenu', contextmenu, false);\n      this.domElement.removeEventListener('mousedown', onMouseDown, false);\n      this.domElement.removeEventListener('mousewheel', onMouseWheel, false);\n      this.domElement.removeEventListener('MozMousePixelScroll', onMouseWheel, false); // firefox\n\n      this.domElement.removeEventListener('touchstart', touchstart, false);\n      this.domElement.removeEventListener('touchend', touchend, false);\n      this.domElement.removeEventListener('touchmove', touchmove, false);\n      document.removeEventListener('mousemove', onMouseMove, false);\n      document.removeEventListener('mouseup', onMouseUp, false);\n      window.removeEventListener('keydown', onKeyDown, false);\n    };\n\n    this.domElement.addEventListener('contextmenu', contextmenu, false);\n    this.domElement.addEventListener('mousedown', onMouseDown, false);\n    this.domElement.addEventListener('mousewheel', onMouseWheel, false);\n    this.domElement.addEventListener('MozMousePixelScroll', onMouseWheel, false); // firefox\n\n    this.domElement.addEventListener('touchstart', touchstart, false);\n    this.domElement.addEventListener('touchend', touchend, false);\n    this.domElement.addEventListener('touchmove', touchmove, false);\n    window.addEventListener('keydown', onKeyDown, false); // force an update at start\n\n    this.update();\n  }\n\n  ;\n  OrbitControls.prototype = Object.create(THREE.EventDispatcher.prototype);\n  OrbitControls.prototype.constructor = OrbitControls;\n  Object.defineProperties(OrbitControls.prototype, {\n    object: {\n      get: function () {\n        return this.constraint.object;\n      }\n    },\n    target: {\n      get: function () {\n        return this.constraint.target;\n      },\n      set: function (value) {\n        console.warn('THREE.OrbitControls: target is now immutable. Use target.set() instead.');\n        this.constraint.target.copy(value);\n      }\n    },\n    minDistance: {\n      get: function () {\n        return this.constraint.minDistance;\n      },\n      set: function (value) {\n        this.constraint.minDistance = value;\n      }\n    },\n    maxDistance: {\n      get: function () {\n        return this.constraint.maxDistance;\n      },\n      set: function (value) {\n        this.constraint.maxDistance = value;\n      }\n    },\n    minZoom: {\n      get: function () {\n        return this.constraint.minZoom;\n      },\n      set: function (value) {\n        this.constraint.minZoom = value;\n      }\n    },\n    maxZoom: {\n      get: function () {\n        return this.constraint.maxZoom;\n      },\n      set: function (value) {\n        this.constraint.maxZoom = value;\n      }\n    },\n    minPolarAngle: {\n      get: function () {\n        return this.constraint.minPolarAngle;\n      },\n      set: function (value) {\n        this.constraint.minPolarAngle = value;\n      }\n    },\n    maxPolarAngle: {\n      get: function () {\n        return this.constraint.maxPolarAngle;\n      },\n      set: function (value) {\n        this.constraint.maxPolarAngle = value;\n      }\n    },\n    minAzimuthAngle: {\n      get: function () {\n        return this.constraint.minAzimuthAngle;\n      },\n      set: function (value) {\n        this.constraint.minAzimuthAngle = value;\n      }\n    },\n    maxAzimuthAngle: {\n      get: function () {\n        return this.constraint.maxAzimuthAngle;\n      },\n      set: function (value) {\n        this.constraint.maxAzimuthAngle = value;\n      }\n    },\n    enableDamping: {\n      get: function () {\n        return this.constraint.enableDamping;\n      },\n      set: function (value) {\n        this.constraint.enableDamping = value;\n      }\n    },\n    dampingFactor: {\n      get: function () {\n        return this.constraint.dampingFactor;\n      },\n      set: function (value) {\n        this.constraint.dampingFactor = value;\n      }\n    },\n    // backward compatibility\n    noZoom: {\n      get: function () {\n        console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n        return !this.enableZoom;\n      },\n      set: function (value) {\n        console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n        this.enableZoom = !value;\n      }\n    },\n    noRotate: {\n      get: function () {\n        console.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n        return !this.enableRotate;\n      },\n      set: function (value) {\n        console.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n        this.enableRotate = !value;\n      }\n    },\n    noPan: {\n      get: function () {\n        console.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n        return !this.enablePan;\n      },\n      set: function (value) {\n        console.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n        this.enablePan = !value;\n      }\n    },\n    noKeys: {\n      get: function () {\n        console.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n        return !this.enableKeys;\n      },\n      set: function (value) {\n        console.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n        this.enableKeys = !value;\n      }\n    },\n    staticMoving: {\n      get: function () {\n        console.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n        return !this.constraint.enableDamping;\n      },\n      set: function (value) {\n        console.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n        this.constraint.enableDamping = !value;\n      }\n    },\n    dynamicDampingFactor: {\n      get: function () {\n        console.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n        return this.constraint.dampingFactor;\n      },\n      set: function (value) {\n        console.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n        this.constraint.dampingFactor = value;\n      }\n    }\n  });\n  return OrbitControls;\n};","map":{"version":3,"sources":["/home/mike/Scrivania/provaFrontEnd/af2_front_end_test/node_modules/three-orbit-controls/index.js"],"names":["module","exports","THREE","MOUSE","LEFT","MIDDLE","RIGHT","OrbitConstraint","object","target","Vector3","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","Math","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","scope","EPS","theta","phi","phiDelta","thetaDelta","scale","panOffset","zoomChanged","getPolarAngle","getAzimuthalAngle","rotateLeft","angle","rotateUp","panLeft","v","distance","te","matrix","elements","set","multiplyScalar","add","panUp","pan","deltaX","deltaY","screenWidth","screenHeight","PerspectiveCamera","position","offset","clone","sub","targetDistance","length","tan","fov","OrthographicCamera","right","left","top","bottom","console","warn","dollyIn","dollyScale","zoom","max","min","updateProjectionMatrix","dollyOut","update","quat","Quaternion","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","copy","applyQuaternion","atan2","x","z","sqrt","y","radius","sin","cos","lookAt","distanceToSquared","dot","quaternion","OrbitControls","domElement","constraint","undefined","document","Object","defineProperty","get","enabled","center","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","UP","BOTTOM","mouseButtons","ORBIT","ZOOM","PAN","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","STATE","NONE","ROTATE","DOLLY","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","state","target0","position0","zoom0","changeEvent","type","startEvent","endEvent","element","body","clientWidth","clientHeight","getAutoRotationAngle","dispatchEvent","reset","getZoomScale","pow","onMouseDown","event","preventDefault","button","clientX","clientY","addEventListener","onMouseMove","onMouseUp","subVectors","removeEventListener","onMouseWheel","stopPropagation","delta","wheelDelta","detail","onKeyDown","keyCode","touchstart","touches","pageX","pageY","dx","dy","touchmove","touchend","contextmenu","dispose","window","prototype","create","EventDispatcher","constructor","defineProperties","value","noZoom","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor"],"mappings":"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","sourcesContent":["module.exports = function(THREE) {\n\tvar MOUSE = THREE.MOUSE\n\tif (!MOUSE)\n\t\tMOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\n\n\t/**\n\t * @author qiao / https://github.com/qiao\n\t * @author mrdoob / http://mrdoob.com\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t * @author erich666 / http://erichaines.com\n\t */\n\t/*global THREE, console */\n\n\tfunction OrbitConstraint ( object ) {\n\n\t\tthis.object = object;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\t// and where it pans with respect to.\n\t\tthis.target = new THREE.Vector3();\n\n\t\t// Limits to how far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// Limits to how far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.25;\n\n\t\t////////////\n\t\t// internals\n\n\t\tvar scope = this;\n\n\t\tvar EPS = 0.000001;\n\n\t\t// Current position in spherical coordinate system.\n\t\tvar theta;\n\t\tvar phi;\n\n\t\t// Pending changes\n\t\tvar phiDelta = 0;\n\t\tvar thetaDelta = 0;\n\t\tvar scale = 1;\n\t\tvar panOffset = new THREE.Vector3();\n\t\tvar zoomChanged = false;\n\n\t\t// API\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn theta;\n\n\t\t};\n\n\t\tthis.rotateLeft = function ( angle ) {\n\n\t\t\tthetaDelta -= angle;\n\n\t\t};\n\n\t\tthis.rotateUp = function ( angle ) {\n\n\t\t\tphiDelta -= angle;\n\n\t\t};\n\n\t\t// pass in distance in world space to move left\n\t\tthis.panLeft = function() {\n\n\t\t\tvar v = new THREE.Vector3();\n\n\t\t\treturn function panLeft ( distance ) {\n\n\t\t\t\tvar te = this.object.matrix.elements;\n\n\t\t\t\t// get X column of matrix\n\t\t\t\tv.set( te[ 0 ], te[ 1 ], te[ 2 ] );\n\t\t\t\tv.multiplyScalar( - distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\t// pass in distance in world space to move up\n\t\tthis.panUp = function() {\n\n\t\t\tvar v = new THREE.Vector3();\n\n\t\t\treturn function panUp ( distance ) {\n\n\t\t\t\tvar te = this.object.matrix.elements;\n\n\t\t\t\t// get Y column of matrix\n\t\t\t\tv.set( te[ 4 ], te[ 5 ], te[ 6 ] );\n\t\t\t\tv.multiplyScalar( distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\t// pass in x,y of change desired in pixel space,\n\t\t// right and down are positive\n\t\tthis.pan = function ( deltaX, deltaY, screenWidth, screenHeight ) {\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\tvar offset = position.clone().sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\t\tscope.panLeft( 2 * deltaX * targetDistance / screenHeight );\n\t\t\t\tscope.panUp( 2 * deltaY * targetDistance / screenHeight );\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tscope.panLeft( deltaX * ( scope.object.right - scope.object.left ) / screenWidth );\n\t\t\t\tscope.panUp( deltaY * ( scope.object.top - scope.object.bottom ) / screenHeight );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic or perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.dollyIn = function ( dollyScale ) {\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.dollyOut = function ( dollyScale ) {\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.update = function() {\n\n\t\t\tvar offset = new THREE.Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\t\t\tvar quatInverse = quat.clone().inverse();\n\n\t\t\tvar lastPosition = new THREE.Vector3();\n\t\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\t\treturn function () {\n\n\t\t\t\tvar position = this.object.position;\n\n\t\t\t\toffset.copy( position ).sub( this.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\n\t\t\t\ttheta = Math.atan2( offset.x, offset.z );\n\n\t\t\t\t// angle from y-axis\n\n\t\t\t\tphi = Math.atan2( Math.sqrt( offset.x * offset.x + offset.z * offset.z ), offset.y );\n\n\t\t\t\ttheta += thetaDelta;\n\t\t\t\tphi += phiDelta;\n\n\t\t\t\t// restrict theta to be between desired limits\n\t\t\t\ttheta = Math.max( this.minAzimuthAngle, Math.min( this.maxAzimuthAngle, theta ) );\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tphi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, phi ) );\n\n\t\t\t\t// restrict phi to be betwee EPS and PI-EPS\n\t\t\t\tphi = Math.max( EPS, Math.min( Math.PI - EPS, phi ) );\n\n\t\t\t\tvar radius = offset.length() * scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tradius = Math.max( this.minDistance, Math.min( this.maxDistance, radius ) );\n\n\t\t\t\t// move target to panned location\n\t\t\t\tthis.target.add( panOffset );\n\n\t\t\t\toffset.x = radius * Math.sin( phi ) * Math.sin( theta );\n\t\t\t\toffset.y = radius * Math.cos( phi );\n\t\t\t\toffset.z = radius * Math.sin( phi ) * Math.cos( theta );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( this.target ).add( offset );\n\n\t\t\t\tthis.object.lookAt( this.target );\n\n\t\t\t\tif ( this.enableDamping === true ) {\n\n\t\t\t\t\tthetaDelta *= ( 1 - this.dampingFactor );\n\t\t\t\t\tphiDelta *= ( 1 - this.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthetaDelta = 0;\n\t\t\t\t\tphiDelta = 0;\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\t lastPosition.distanceToSquared( this.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( this.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tlastPosition.copy( this.object.position );\n\t\t\t\t\tlastQuaternion.copy( this.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t};\n\n\n\t// This set of controls performs orbiting, dollying (zooming), and panning. It maintains\n\t// the \"up\" direction as +Y, unlike the TrackballControls. Touch on tablet and phones is\n\t// supported.\n\t//\n\t//    Orbit - left mouse / touch: one finger move\n\t//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n\t//    Pan - right mouse, or arrow keys / touch: three finter swipe\n\n\tfunction OrbitControls ( object, domElement ) {\n\n\t\tvar constraint = new OrbitConstraint( object );\n\n\t\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t\t// API\n\n\t\tObject.defineProperty( this, 'constraint', {\n\n\t\t\tget: function() {\n\n\t\t\t\treturn constraint;\n\n\t\t\t}\n\n\t\t} );\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn constraint.getPolarAngle();\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn constraint.getAzimuthalAngle();\n\n\t\t};\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// center is old, deprecated; use \"target\" instead\n\t\tthis.center = this.target;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for\n\t\t// backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t\t// Set to false to disable use of the keys\n\t\tthis.enableKeys = true;\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n\t\t////////////\n\t\t// internals\n\n\t\tvar scope = this;\n\n\t\tvar rotateStart = new THREE.Vector2();\n\t\tvar rotateEnd = new THREE.Vector2();\n\t\tvar rotateDelta = new THREE.Vector2();\n\n\t\tvar panStart = new THREE.Vector2();\n\t\tvar panEnd = new THREE.Vector2();\n\t\tvar panDelta = new THREE.Vector2();\n\n\t\tvar dollyStart = new THREE.Vector2();\n\t\tvar dollyEnd = new THREE.Vector2();\n\t\tvar dollyDelta = new THREE.Vector2();\n\n\t\tvar STATE = { NONE : - 1, ROTATE : 0, DOLLY : 1, PAN : 2, TOUCH_ROTATE : 3, TOUCH_DOLLY : 4, TOUCH_PAN : 5 };\n\n\t\tvar state = STATE.NONE;\n\n\t\t// for reset\n\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// events\n\n\t\tvar changeEvent = { type: 'change' };\n\t\tvar startEvent = { type: 'start' };\n\t\tvar endEvent = { type: 'end' };\n\n\t\t// pass in x,y of change desired in pixel space,\n\t\t// right and down are positive\n\t\tfunction pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tconstraint.pan( deltaX, deltaY, element.clientWidth, element.clientHeight );\n\n\t\t}\n\n\t\tthis.update = function () {\n\n\t\t\tif ( this.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\tconstraint.rotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tif ( constraint.update() === true ) {\n\n\t\t\t\tthis.dispatchEvent( changeEvent );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tstate = STATE.NONE;\n\n\t\t\tthis.target.copy( this.target0 );\n\t\t\tthis.object.position.copy( this.position0 );\n\t\t\tthis.object.zoom = this.zoom0;\n\n\t\t\tthis.object.updateProjectionMatrix();\n\t\t\tthis.dispatchEvent( changeEvent );\n\n\t\t\tthis.update();\n\n\t\t};\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tif ( event.button === scope.mouseButtons.ORBIT ) {\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t\t} else if ( event.button === scope.mouseButtons.ZOOM ) {\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t\t} else if ( event.button === scope.mouseButtons.PAN ) {\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\t\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif ( state === STATE.ROTATE ) {\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\trotateEnd.set( event.clientX, event.clientY );\n\t\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\t\tconstraint.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\t\tconstraint.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\t} else if ( state === STATE.DOLLY ) {\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\t\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\t\tconstraint.dollyIn( getZoomScale() );\n\n\t\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\t\tconstraint.dollyOut( getZoomScale() );\n\n\t\t\t\t}\n\n\t\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\t} else if ( state === STATE.PAN ) {\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\tpanEnd.set( event.clientX, event.clientY );\n\t\t\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\t\tpanStart.copy( panEnd );\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) scope.update();\n\n\t\t}\n\n\t\tfunction onMouseUp( /* event */ ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\t\t\tscope.dispatchEvent( endEvent );\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tvar delta = 0;\n\n\t\t\tif ( event.wheelDelta !== undefined ) {\n\n\t\t\t\t// WebKit / Opera / Explorer 9\n\n\t\t\t\tdelta = event.wheelDelta;\n\n\t\t\t} else if ( event.detail !== undefined ) {\n\n\t\t\t\t// Firefox\n\n\t\t\t\tdelta = - event.detail;\n\n\t\t\t}\n\n\t\t\tif ( delta > 0 ) {\n\n\t\t\t\tconstraint.dollyOut( getZoomScale() );\n\n\t\t\t} else if ( delta < 0 ) {\n\n\t\t\t\tconstraint.dollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\t\t\tscope.dispatchEvent( startEvent );\n\t\t\tscope.dispatchEvent( endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\t\tswitch ( event.keyCode ) {\n\n\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction touchstart( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( event.touches.length ) {\n\n\t\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\t// two-fingered touch: dolly\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\t\t\t\t\tdollyStart.set( 0, distance );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) scope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t\tfunction touchmove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tswitch ( event.touches.length ) {\n\n\t\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return;\n\n\t\t\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\t\t\t\t// rotating across whole screen goes 360 degrees around\n\t\t\t\t\tconstraint.rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\t\t\t\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\t\t\t\tconstraint.rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\t\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2: // two-fingered touch: dolly\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return;\n\n\t\t\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\t\t\tdollyEnd.set( 0, distance );\n\t\t\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\t\t\tconstraint.dollyOut( getZoomScale() );\n\n\t\t\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\t\t\tconstraint.dollyIn( getZoomScale() );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\t\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return;\n\n\t\t\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\t\t\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\t\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\t\t\tpanStart.copy( panEnd );\n\n\t\t\t\t\tscope.update();\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction touchend( /* event */ ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tscope.dispatchEvent( endEvent );\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction contextmenu( event ) {\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\tthis.dispose = function() {\n\n\t\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu, false );\n\t\t\tthis.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\t\tthis.domElement.removeEventListener( 'mousewheel', onMouseWheel, false );\n\t\t\tthis.domElement.removeEventListener( 'MozMousePixelScroll', onMouseWheel, false ); // firefox\n\n\t\t\tthis.domElement.removeEventListener( 'touchstart', touchstart, false );\n\t\t\tthis.domElement.removeEventListener( 'touchend', touchend, false );\n\t\t\tthis.domElement.removeEventListener( 'touchmove', touchmove, false );\n\n\t\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t}\n\n\t\tthis.domElement.addEventListener( 'contextmenu', contextmenu, false );\n\n\t\tthis.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\t\tthis.domElement.addEventListener( 'mousewheel', onMouseWheel, false );\n\t\tthis.domElement.addEventListener( 'MozMousePixelScroll', onMouseWheel, false ); // firefox\n\n\t\tthis.domElement.addEventListener( 'touchstart', touchstart, false );\n\t\tthis.domElement.addEventListener( 'touchend', touchend, false );\n\t\tthis.domElement.addEventListener( 'touchmove', touchmove, false );\n\n\t\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t\t// force an update at start\n\t\tthis.update();\n\n\t};\n\n\tOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\n\tOrbitControls.prototype.constructor = OrbitControls;\n\n\tObject.defineProperties( OrbitControls.prototype, {\n\n\t\tobject: {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.object;\n\n\t\t\t}\n\n\t\t},\n\n\t\ttarget: {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.target;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: target is now immutable. Use target.set() instead.' );\n\t\t\t\tthis.constraint.target.copy( value );\n\n\t\t\t}\n\n\t\t},\n\n\t\tminDistance : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.minDistance;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.minDistance = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tmaxDistance : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.maxDistance;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.maxDistance = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tminZoom : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.minZoom;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.minZoom = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tmaxZoom : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.maxZoom;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.maxZoom = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tminPolarAngle : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.minPolarAngle;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.minPolarAngle = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tmaxPolarAngle : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.maxPolarAngle;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.maxPolarAngle = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tminAzimuthAngle : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.minAzimuthAngle;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.minAzimuthAngle = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tmaxAzimuthAngle : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.maxAzimuthAngle;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.maxAzimuthAngle = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tenableDamping : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.enableDamping;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.enableDamping = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tdampingFactor : {\n\n\t\t\tget: function () {\n\n\t\t\t\treturn this.constraint.dampingFactor;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tthis.constraint.dampingFactor = value;\n\n\t\t\t}\n\n\t\t},\n\n\t\t// backward compatibility\n\n\t\tnoZoom: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\t\treturn ! this.enableZoom;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\t\tthis.enableZoom = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tnoRotate: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\t\treturn ! this.enableRotate;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\t\tthis.enableRotate = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tnoPan: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\t\treturn ! this.enablePan;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\t\tthis.enablePan = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tnoKeys: {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\t\treturn ! this.enableKeys;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\t\tthis.enableKeys = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tstaticMoving : {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\t\treturn ! this.constraint.enableDamping;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\t\tthis.constraint.enableDamping = ! value;\n\n\t\t\t}\n\n\t\t},\n\n\t\tdynamicDampingFactor : {\n\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\t\treturn this.constraint.dampingFactor;\n\n\t\t\t},\n\n\t\t\tset: function ( value ) {\n\n\t\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\t\tthis.constraint.dampingFactor = value;\n\n\t\t\t}\n\n\t\t}\n\n\t} );\n\n\treturn OrbitControls;\n}\n"]},"metadata":{},"sourceType":"script"}