{"ast":null,"code":"import { MagicIncomingWindowMessage } from '@magic-sdk/types';\n\nvar ViewController =\n/** @class */\nfunction () {\n  function ViewController(transport, endpoint, encodedQueryParams) {\n    this.transport = transport;\n    this.endpoint = endpoint;\n    this.encodedQueryParams = encodedQueryParams;\n    this.ready = this.waitForReady();\n    if (this.init) this.init();\n    this.listen();\n  }\n\n  ViewController.prototype.waitForReady = function () {\n    var _this = this;\n\n    return new Promise(function (resolve) {\n      _this.transport.on(MagicIncomingWindowMessage.MAGIC_OVERLAY_READY, function () {\n        return resolve();\n      });\n    });\n  };\n  /**\n   * Listen for messages sent from the underlying Magic `<WebView>`.\n   */\n\n\n  ViewController.prototype.listen = function () {\n    var _this = this;\n\n    this.transport.on(MagicIncomingWindowMessage.MAGIC_HIDE_OVERLAY, function () {\n      _this.hideOverlay();\n    });\n    this.transport.on(MagicIncomingWindowMessage.MAGIC_SHOW_OVERLAY, function () {\n      _this.showOverlay();\n    });\n  };\n\n  return ViewController;\n}();\n\nexport { ViewController };","map":{"version":3,"mappings":"AAAA,SAASA,0BAAT,QAAgE,kBAAhE;;AAGA;AAAA;AAAA;AAGE,0BACqBC,SADrB,EAEqBC,QAFrB,EAGqBC,kBAHrB,EAG+C;AAF1B;AACA;AACA;AAEnB,SAAKC,KAAL,GAAa,KAAKC,YAAL,EAAb;AACA,QAAI,KAAKC,IAAT,EAAe,KAAKA,IAAL;AACf,SAAKC,MAAL;AACD;;AAOOC,0CAAR;AAAA;;AACE,WAAO,IAAIC,OAAJ,CAAkB,UAACC,OAAD,EAAQ;AAC/BC,WAAI,CAACV,SAAL,CAAeW,EAAf,CAAkBZ,0BAA0B,CAACa,mBAA7C,EAAkE;AAAM,sBAAO,EAAP;AAAS,OAAjF;AACD,KAFM,CAAP;AAGD,GAJO;AAMR;;;;;AAGQL,oCAAR;AAAA;;AACE,SAAKP,SAAL,CAAeW,EAAf,CAAkBZ,0BAA0B,CAACc,kBAA7C,EAAiE;AAC/DH,WAAI,CAACI,WAAL;AACD,KAFD;AAIA,SAAKd,SAAL,CAAeW,EAAf,CAAkBZ,0BAA0B,CAACgB,kBAA7C,EAAiE;AAC/DL,WAAI,CAACM,WAAL;AACD,KAFD;AAGD,GARO;;AASV;AAAC,CApCD","names":["MagicIncomingWindowMessage","transport","endpoint","encodedQueryParams","ready","waitForReady","init","listen","ViewController","Promise","resolve","_this","on","MAGIC_OVERLAY_READY","MAGIC_HIDE_OVERLAY","hideOverlay","MAGIC_SHOW_OVERLAY","showOverlay"],"sourceRoot":"","sources":["../../../src/core/view-controller.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}